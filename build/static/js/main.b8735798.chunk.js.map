{"version":3,"sources":["components/SearchBar.js","components/CountryList.js","components/SortSelection.js","components/YearSelection.js","components/pages/Home.js","services/emissions.js","components/PerCapitaToggle.js","components/pages/NotFound.js","components/CountryData.js","components/pages/Country.js","components/NavBar.js","App.js","index.js"],"names":["SearchBar","_ref","setSearch","react_default","a","createElement","Input","fluid","action","icon","placeholder","onChange","event","target","value","CountryList","countries","search","items","filter","country","noSearch","nameMatches","name","toLowerCase","includes","map","List","Item","key","Link","to","concat","Card","Content","SortSelection","options","sort","setSort","style","marginTop","Dropdown","inline","upward","defaultValue","data","YearSelection","year","setYear","selection","Home","_useState","useState","_useState2","Object","slicedToArray","lastYear","Date","getFullYear","yearOptions","toConsumableArray","Array","keys","i","b","y","text","Grid","stackable","columns","Row","Column","computer","components_SearchBar","width","components_YearSelection","components_SortSelection","components_CountryList","hasData","obj","property","undefined","yearlyData","numericCompare","desc","arguments","length","relativeEmissionsCompare","aRelativeEmissions","emissions","population","bRelativeEmissions","localeCompare","baseUrl","axios","get","then","response","post","PerCapitaCheckbox","togglePerCapita","Checkbox","toggle","label","NotFound","textAlign","CountryData","perCapita","elems","pop","co2","toFixed","Table","Cell","striped","Header","HeaderCell","Body","Country","countryKey","setData","useEffect","dataService","result","catch","_","pages_NotFound","padding","PerCapitaToggle","components_CountryData","withRouter","location","refreshing","handleRefresh","iconStyle","marginRight","Menu","active","pathname","Icon","position","onClick","Loader","size","marginLeft","App","setRefreshing","_useState3","_useState4","setCountries","_useState5","_useState6","setPerCapita","_useState7","_useState8","_useState9","_useState10","updateCountryData","countryData","emissionService","background","centered","boxShadow","largeScreen","tablet","mobile","BrowserRouter","components_NavBar","updatedData","error","console","log","Switch","Route","exact","path","render","pages_Home","match","pages_Country","params","component","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b8735798.chunk.js","sourcesContent":["import React from 'react'\nimport { Input } from 'semantic-ui-react'\n\nconst SearchBar = ({ setSearch }) => (\n  <div>\n    <Input fluid\n      action={{ icon: 'search' }}\n      placeholder='Search...'\n      onChange={(event) => setSearch(event.target.value)} />\n  </div>\n)\n\nexport default SearchBar","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { List, Card } from 'semantic-ui-react'\n\nconst CountryList = ({ countries, search }) => {\n  const filtered = countries.filter(country => {\n    const noSearch = search === ''\n    const nameMatches = country.name.toLowerCase().includes(search.toLowerCase())\n    return noSearch || nameMatches\n  })\n  const items = filtered.map(country => (\n    <List.Item key={country.key}>\n      <Link to={`/country/${country.key}`}>\n        <Card fluid>\n          <Card.Content>{country.name}</Card.Content>\n        </Card>\n      </Link>\n    </List.Item>\n  ))\n  return (\n    <List>\n      {items}\n    </List>\n  )\n}\n\nexport default CountryList","import React from 'react'\nimport { Dropdown } from 'semantic-ui-react';\n\nconst SortSelection = ({ options, sort, setSort }) => (\n  <div style={{ marginTop: 10 }}>\n    Sort by{' '}\n    <Dropdown inline upward={false}\n      options={options}\n      defaultValue={sort}\n      onChange={(event, data) => {\n        setSort(data.value)\n      }} />\n  </div>\n)\n\nexport default SortSelection","import React from 'react'\nimport { Dropdown } from 'semantic-ui-react';\n\nconst YearSelection = ({ options, year, setYear }) => (\n  <Dropdown selection\n    options={options}\n    defaultValue={year}\n    onChange={(event, data) => {\n      setYear(data.value)\n    }} />\n)\n\nexport default YearSelection","import React, { useState } from 'react'\nimport { Grid } from 'semantic-ui-react'\nimport SearchBar from '../SearchBar';\nimport CountryList from '../CountryList';\nimport SortSelection from '../SortSelection';\nimport YearSelection from '../YearSelection';\n\nconst Home = ({ countries, sort, setSort, year, setYear }) => {\n  const [search, setSearch] = useState('')\n\n  const sortOptions = [\n    {\n      text: 'country code',\n      value: 'country code'\n    },\n    {\n      text: 'name',\n      value: 'name'\n    },\n    {\n      text: 'population (desc)',\n      value: 'population (desc)'\n    },\n    {\n      text: 'population (asc)',\n      value: 'population (asc)'\n    },\n    {\n      text: 'emissions (desc)',\n      value: 'emissions (desc)'\n    },\n    {\n      text: 'emissions (asc)',\n      value: 'emissions (asc)'\n    },\n    {\n      text: 'relative emissions (desc)',\n      value: 'relative emissions (desc)'\n    },\n    {\n      text: 'relative emissions (asc)',\n      value: 'relative emissions (asc)'\n    }\n  ]\n\n  const lastYear = new Date().getFullYear() - 1\n  const years = [...Array(59).keys()].map(i => lastYear - i).sort((a, b) => b - a)\n  const yearOptions = years.map(y => {\n    return {\n      text: '' + y,\n      value: '' + y\n    }\n  })\n\n  const sortedCountries = () => {\n    return countries.sort((a, b) => {\n      const hasData = (obj, property) => {\n        return obj.yearlyData[year] !== undefined &&\n          obj.yearlyData[year][property] !== undefined &&\n          obj.yearlyData[year][property] !== null\n      }\n      const numericCompare = (a, b, property, desc=true) => {\n        if (!hasData(a, property))\n          return 1\n        if (!hasData(b, property))\n          return -1\n\n        if (desc)\n          return b.yearlyData[year][property] - a.yearlyData[year][property]\n        return a.yearlyData[year][property] - b.yearlyData[year][property]\n      }\n      const relativeEmissionsCompare = (a, b, desc=true) => {\n        if (!hasData(a, 'population') || !hasData(a, 'emissions'))\n          return 1\n        if (!hasData(b, 'population') || !hasData(b, 'emissions'))\n          return -1\n\n        const aRelativeEmissions = a.yearlyData[year].emissions / a.yearlyData[year].population\n        const bRelativeEmissions = b.yearlyData[year].emissions / b.yearlyData[year].population\n        if (desc)\n          return bRelativeEmissions - aRelativeEmissions\n        return aRelativeEmissions - bRelativeEmissions\n      }\n\n      switch (sort) {\n        case 'country code':\n          return ('' + a.key).localeCompare(b.key)\n        case 'name':\n          return ('' + a.name).localeCompare(b.name)\n        case 'population (desc)':\n          return numericCompare(a, b, 'population', true)\n        case 'population (asc)':\n          return numericCompare(a, b, 'population', false)\n        case 'emissions (desc)':\n          return numericCompare(a, b, 'emissions', true)\n        case 'emissions (asc)':\n          return numericCompare(a, b, 'emissions', false)\n        case 'relative emissions (desc)':\n          return relativeEmissionsCompare(a, b, true)\n        case 'relative emissions (asc)':\n          return relativeEmissionsCompare(a, b, false)\n        default:\n          return 0\n      }\n    })\n  }\n\n  return (\n    <div>\n      <h1>CO2-emissions</h1>\n      <Grid stackable columns={2}>\n        <Grid.Row>\n          <Grid.Column computer={10}>\n            <SearchBar setSearch={setSearch} />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <YearSelection\n              options={yearOptions}\n              year={year}\n              setYear={setYear} />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      <SortSelection options={sortOptions} sort={sort} setSort={setSort} />\n      <CountryList countries={sortedCountries()} search={search} />\n    </div>\n  )\n}\n\nexport default Home","import axios from 'axios'\n\nconst baseUrl = '/api/emissions'\n\nconst getData = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst getCountryData = (key) => {\n  return axios.get(`${baseUrl}/${key}`).then(response => response.data)\n}\n\nconst getYearlyCountryData = (key, year) => {\n  return axios.get(`${baseUrl}/${key}/${year}`).then(response => response.data)\n}\n\nconst issueUpdate = () => {\n  return axios.post(`${baseUrl}/update`).then(response => response.data)\n}\n\nexport default {\n  getData,\n  getCountryData,\n  getYearlyCountryData,\n  issueUpdate\n}","import React from 'react'\nimport { Checkbox } from 'semantic-ui-react'\n\nconst PerCapitaCheckbox = ({ togglePerCapita }) => (\n  <div>\n    <Checkbox toggle\n      label={'Per capita'}\n      onChange={togglePerCapita} />\n  </div>\n)\n\nexport default PerCapitaCheckbox","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst NotFound = () => {\n  const style = {\n    marginTop: 20,\n    textAlign: 'center',\n  }\n  return (\n    <div style={style}>\n      <h1>404 Not Found</h1>\n      <div>\n        <Link to='/'>Return home</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default NotFound\n","import React from 'react'\nimport { Table } from 'semantic-ui-react'\n\nconst CountryData = ({ data, perCapita }) => {\n  const years = Object.keys(data).sort((a, b) => b - a) // descending order\n  const elems = years.map(year => {\n    const pop = data[year].population\n    let co2 = data[year].emissions\n\n    if (pop === null && co2 === null)\n      return null\n\n    if (perCapita && co2 !== null)\n      co2 = pop == null ? 'N/A' : (1000 * co2 / pop).toFixed(5)\n\n    return (\n      <Table.Row key={year}>\n        <Table.Cell>{year}</Table.Cell>\n        <Table.Cell>{pop === null ? 'N/A' : pop}</Table.Cell>\n        <Table.Cell>{co2 === null ? 'N/A' : co2}</Table.Cell>\n      </Table.Row>\n    )\n  })\n\n  return (\n    <Table striped>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Year</Table.HeaderCell>\n          <Table.HeaderCell>Population</Table.HeaderCell>\n          <Table.HeaderCell>Emissions ({perCapita ? 't/capita' : 'kt'})</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {elems}\n      </Table.Body>\n    </Table>\n  )\n}\n\nexport default CountryData","import React, { useState, useEffect } from 'react'\nimport dataService from '../../services/emissions'\nimport PerCapitaToggle from '../PerCapitaToggle'\nimport NotFound from './NotFound';\nimport CountryData from '../CountryData';\n\nconst Country = ({ countryKey, perCapita, togglePerCapita }) => {\n  const [data, setData] = useState(undefined)\n\n  useEffect(() => {\n    if (!countryKey) {\n      setData(null)\n    } else {\n      dataService.getCountryData(countryKey)\n        .then(result => {\n          setData(result)\n        })\n        .catch(_ => setData(null))\n    }\n  }, [ countryKey ])\n\n  const elem = () => {\n    if (data === undefined)\n      return null\n    if (data === null)\n      return <NotFound />\n\n    const style = {\n      marginTop: 10,\n      padding: 5,\n    }\n\n    return (\n      <div style={style}>\n        <h1>Country: {data.name} ({data.key})</h1>\n        <PerCapitaToggle togglePerCapita={togglePerCapita} />\n        <CountryData data={data.yearlyData} perCapita={perCapita} />\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      {elem()}\n    </div>\n  )\n}\n\nexport default Country","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { Menu, Loader, Icon } from 'semantic-ui-react'\n\nconst NavBar = ({ location, refreshing, handleRefresh}) => {\n  const iconStyle = {\n    marginRight: 5\n  }\n  const marginStyle = {\n    marginLeft: 10\n  }\n\n  return (\n    <Menu stackable>\n      <Menu.Item active={location.pathname === '/'}>\n        <Icon name='home' />\n        <Link to='/'>Home</Link>\n      </Menu.Item>\n      <Menu.Item>\n        <div>\n          <Icon name='exchange' style={iconStyle} />\n          <Link to='/country/compare'>Compare</Link>\n        </div>\n      </Menu.Item>\n      <Menu.Item position='right' onClick={handleRefresh}>\n        <div>\n          <Icon name='refresh' style={iconStyle} />\n          Refresh\n          <Loader inline\n            active={refreshing}\n            size='tiny'\n            style={marginStyle} />\n        </div>\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default withRouter(NavBar)","import React, { useState, useEffect } from 'react'\nimport { Grid } from 'semantic-ui-react'\nimport {\n  BrowserRouter as Router,\n  Route, Switch\n} from 'react-router-dom'\nimport Home from './components/pages/Home'\nimport Country from './components/pages/Country'\nimport NotFound from './components/pages/NotFound'\nimport NavBar from './components/NavBar'\nimport emissionService from './services/emissions'\n\nconst App = () => {\n  const [refreshing, setRefreshing] = useState(false)\n  const [countries, setCountries] = useState([])\n  const [perCapita, setPerCapita] = useState(false)\n  const [sort, setSort] = useState('country code')\n  const [year, setYear] = useState('' + (new Date().getFullYear() - 1))\n\n  const updateCountryData = (data) => {\n    const countryData = Object.keys(data).map(key => {\n      return {\n        key,\n        name: data[key].name,\n        yearlyData: data[key].yearlyData\n      }\n    })\n    setCountries(countryData)\n  }\n\n  useEffect(() => {\n    emissionService.getData().then(data => { updateCountryData(data) })\n  }, [])\n\n  const togglePerCapita = () => { setPerCapita(!perCapita) }\n\n  const handleRefresh = () => {\n    if (refreshing)\n      return\n    setRefreshing(true)\n\n    emissionService.issueUpdate()\n    .then(updatedData => { updateCountryData(updatedData) })\n    .catch(error => console.log(error))\n    .then(() => setRefreshing(false))\n  }\n\n  const columnStyle = {\n    padding: 40,\n    background: '#dbe8ff',\n    boxShadow: '-2px -2px 5px rgba(0, 0, 0, 0.2), 2px 2px 2px rgba(0, 0, 0, 0.2)'\n  }\n\n  const backgroundStyle = {\n    background: '#f4f8ff',\n  }\n\n  return (\n    <div style={backgroundStyle}>\n      <Grid centered columns={1}>\n        <Grid.Column\n          style={columnStyle}\n          computer={10}\n          largeScreen={12}\n          tablet={14}\n          mobile={16}>\n          <Router>\n            <div>\n              <NavBar\n                refreshing={refreshing}\n                handleRefresh={handleRefresh} />\n              <Switch>\n                <Route exact path='/' render={() =>\n                  <Home\n                    countries={countries}\n                    sort={sort}\n                    setSort={setSort}\n                    year={year}\n                    setYear={setYear} />\n                } />\n                <Route exact path='/country/:key' render={({ match }) =>\n                  <Country\n                    countryKey={match.params.key}\n                    perCapita={perCapita}\n                    togglePerCapita={togglePerCapita} />\n                }/>\n                <Route component={NotFound} />\n              </Switch>\n            </div>\n          </Router>\n        </Grid.Column>\n      </Grid>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}